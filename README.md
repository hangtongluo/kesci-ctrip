# kesci-ctrip
**用户预订售卖房型概率预测**  
2st Place Solution for kesci-ctrip room prediction  

题目说明及数据地址： https://www.kesci.com/apps/home/#!/lab/dataset/58d4e28c84a25f34b1d94906/document  

团队：到极限了吗？  
成员：☆玄☆、gq、lht

**问题分析，用户选择怎样的房型受哪些因素的影响？**  
第一用户角度，用户的习惯和偏好应该会是一个很重要的影响因素。比如用户过去选择的酒店是不是这次选择的酒店，房型是不是这次选择的房型。  
  
第二酒店角度，酒店的历史成交信息。比如一般酒店都会有受欢迎的房型，那么用户最终选择的可能性就会最大。  

**数据集划分**  
我们分别测试了通过随机划分数据集和按uid划分数据集2种方式，其实从直观上感觉随机划分数据集可能会把那些属于同一个uid的那些特征分开，直接随机划分数据集可能没有按uid划分效果好，通过实验也验证了我们的想法，我们最后采用的方式是按uid划分数据集，其中4/5的数据用于训练，1/5的数据用于测试，这样一方面既能保证训练数据有足够的多，另一方面也能保证有一定的数据用于验证，使模型不至于过拟合。提升效果：千分之五

**特征工程**  
1、现在和过去的对比：这部分主要通过对比现在用户访问的酒店和用户以前的酒店订购行为的统计信息进行对比，反应出用户喜好和习惯。  

2、每个订单内的酒店信息：比如通过订单分组统计出最小最大的价格，最小最大的优惠，数值数据的排序特征等。通过订单，物理房型分组统计最小最大的价格，最小最大的优惠，数值数据的排序特征等。  

3、不同房型的订购统计信息：经过分析我们认为用户应该是先选择物理房型然后选择房型。通过统计一段时间内的用户对物理房型的的选择信息，和一段时间内的用户对不同房型的选择信息，来体现不同物理房型和不同房型的选择概率。  

4、交叉特征：通过分析实际意义来对原始特征和统计特征做交叉运算，体现出数据的波动和变化。






